<h1>{{ title }}</h1>

<form class="std-form" #f="ngForm" (ngSubmit)="salvar(f)">
  <!--num_venda-->
  <mat-form-field>
     <mat-label>Nº venda</mat-label>
     <input matInput [(ngModel)]="venda.num_venda" name="num_venda" readonly
     required >
  </mat-form-field>

  <!--cliente-->
  <mat-form-field>
        <!--
            O <mat-select> lista dos dados de uma entidade para que seja possível
            associar um deles relacionado a outra entidade.

            No cabeçalho do <mat-select> colocamos a entidade que é a DESTINO
            do relacionamento ( a entidade  à qual pretencem os dados do formulário).
        -->
        <mat-select placeholder="Selecionar o cliente" 
        required [(ngModel)]="venda.cliente" name="cliente">

            <!--
                No <mat-option> colocamos a entidade relacionada (aquela cuja dados
                serão listados).
                No atributo [value], será colocado sempre o _id da entidade relacionada.
                Entre {{ }}, colocamos o que queremos que o usuário veja na listagem.
                Quando o usuário fizer a seleção, o  _id  da entidade relacionada será 
                atribuída ao atributo indicado no ngModel  da entidade de destino 
            -->
            <mat-option *ngFor="let cliente of clientes" [value]="cliente._id">
                    {{cliente.nome}}
            </mat-option>
        </mat-select>
    </mat-form-field>

    
      

  <mat-form-field>
     <mat-label>CNPJ</mat-label>
     <input matInput [(ngModel)]="venda.cnpj" name="cnpj" required placeholder="Informe o CNPJ da empresas"
        mask="00.000.000/0000-00">
  </mat-form-field>

  <mat-form-field>
     <mat-label>Inscrição Estadual</mat-label>
     <input matInput [(ngModel)]="venda.inscricao_estadual" name="inscricao_estadual" required
        placeholder="Informe a inscrição estadual da empresa">
  </mat-form-field>

  <mat-form-field>
     <mat-label>Endereço</mat-label>
     <textarea matInput [(ngModel)]="venda.endereco" name="endereco" required
        placeholder="Informe o endereço da empresa" rows="4">
        </textarea>
  </mat-form-field>

  <mat-form-field>
     <mat-label>Telefone</mat-label>
     <mat-icon matPrefix>contact_phone</mat-icon>
     <input matInput [(ngModel)]="venda.telefone" name="telefone" required
        placeholder="Informe a inscrição telefone da empresa">
  </mat-form-field>

  <mat-form-field>
     <mat-label>E-mail</mat-label>
     <mat-icon matPrefix>contact_mail</mat-icon>
     <input type="email" matInput [(ngModel)]="venda.email" name="email" required
        placeholder="Informe a inscrição E-mail da empresa">
  </mat-form-field>

  <mat-toolbar class="form-buttons">
     <mat-toolbar-row>
        <button mat-raised-button type="submit" color="accent">
           Salvar
        </button>
        <button mat-raised-button type="button" (click)="voltar(f)">
           Voltar
        </button>
     </mat-toolbar-row>
  </mat-toolbar>

</form>

